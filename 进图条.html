<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>进度条</title>
	<style>
	#box{
		width:300px;
		position:relative;
		height:20px;
		border:1px solid #c8c8c8;
	}
	#bar{
		background: red;
		height:100%;
		position: absolute;
		top:0;
		left:0;
	}
	#text{
		position: absolute;
		top:0;
		left:0;
		text-align: center;
		width:100%;
	}
	</style>

	<script>
	window.onload = function(){
		var iNow = 0;
		var timer = setInterval(function(){
			if(iNow>=100){
				clearInterval(timer);
			}
			else{
				progress(iNow);
				iNow++;
				
			}
		},50);
	}
// 进度条的函数
	function progress(cent){
		var oBox = document.getElementById('box');
		var oBar = document.getElementById('bar');
		var oText = document.getElementById('text');

		var finalWidth = parseInt(getStyle(oBox,'width'));

		oText.innerHTML = cent +'%';

		oBar.style.width = cent/100*finalWidth + 'px';

	}
//获取元素的属性值
	function getStyle(obj,attr){
		if(obj.currentStyle){
			return obj.currentStyle[attr];
		}
		else{
			return getComputedStyle(obj,false)[attr];
		}
	}
	</script>
</head>
<body>
	<div id="box">
		<div id="bar"></div>
		<div id="text"></div>
	</div>
</body>
</html>